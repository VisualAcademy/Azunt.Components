@using Azunt.Models.UserViewModels

@inherits MfaSettingModalBase

@if (Visible)
{
    <div class="modal fade show @AdditionalCssClass" tabindex="-1" style="display:block;" role="dialog" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content shadow">
                <div class="modal-header">
                    <h5 class="modal-title">MFA Setting</h5>
                    <button type="button" class="btn-close" @onclick="Close" aria-label="Close"></button>
                </div>
                <div class="modal-body" style="max-height: 70vh; overflow-y: auto;">
                    <div class="mb-3">
                        <label for="email" class="form-label">Email:</label>
                        <input id="email" class="form-control" type="text" @bind="CurrentUser.Email" />
                    </div>
                    <div class="mb-3 form-check">
                        <input id="emailConfirmed" class="form-check-input" type="checkbox" @bind="CurrentUser.EmailConfirmed" />
                        <label class="form-check-label" for="emailConfirmed">Email Confirmed</label>
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Phone:</label>
                        <input id="phone" class="form-control" type="text" @bind="CurrentUser.PhoneNumber" />
                    </div>
                    <div class="mb-3 form-check">
                        <input id="phoneConfirmed" class="form-check-input" type="checkbox" @bind="CurrentUser.PhoneNumberConfirmed" />
                        <label class="form-check-label" for="phoneConfirmed">Phone Confirmed</label>
                    </div>
                    <div class="mb-3 form-check">
                        <input id="mfaEnabled" class="form-check-input" type="checkbox" @bind="CurrentUser.TwoFactorEnabled" />
                        <label class="form-check-label" for="mfaEnabled">MFA Enabled</label>
                    </div>
                    <div class="d-flex justify-content-between mt-4">
                        <button class="btn btn-danger w-50 me-2" @onclick="OnSaveClicked">Update</button>
                        <button class="btn btn-secondary w-50" @onclick="Close">Cancel</button>
                    </div>
                    @if (!string.IsNullOrWhiteSpace(Error))
                    {
                        <div class="mt-3 text-danger">@Error</div>
                    }
                </div>
            </div>
        </div>
    </div>
}
